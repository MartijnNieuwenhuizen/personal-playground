<script>
	import Block from '$lib/components/layout/Block/index.svelte';
	import Row from '$lib/components/layout/Row/index.svelte';
	import ExperimentItem from '$lib/components/ExperimentItem/index.svelte';
	import ScrollTimelineWarning from '$lib/components/ScrollTimelineWarning/index.svelte';

	const title = 'Opposite scrollbar';
	const description = 'One that scrolls the other way, for half the time, and then back up again.';
</script>

<ScrollTimelineWarning />

<ExperimentItem {title} {description} showPageEffect={true}>
	<Row>
		<Block size="small">
			<h2>A lot of dummy content</h2>

			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>

			<h2>Even more dummy content!</h2>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
			<p>
				Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed quas eligendi ipsa corporis
				labore dolore iste quasi nihil nemo cum velit cupiditate aperiam eius nobis ad deserunt,
				esse, veritatis reprehenderit?
			</p>
		</Block>
	</Row>
</ExperimentItem>

<div class="opposite-scrollbar opposite-scrollbar--1"></div>
<div class="opposite-scrollbar opposite-scrollbar--2"></div>

<style>
	@keyframes opposite-scrollbar-half {
		0%,
		100% {
			transform: translateY(0);
		}

		50% {
			transform: translateY(-50vh);
		}
	}
	@keyframes opposite-scrollbar-full {
		0% {
			transform: translateY(0);
		}

		100% {
			/* transform: translateY(-100vh - var(--scrollbar-height)); */
			transform: translateY(calc(-100vh + var(--scrollbar-height)));
		}
	}

	:global(body) {
		view-timeline-name: --opposite-scrollbar;
	}

	.opposite-scrollbar {
		--scrollbar-height: 10vh;

		position: fixed;
		bottom: 2px;
		left: 2px;
		width: 0.5rem;
		height: var(--scrollbar-height);
		background-color: #f0c645;
		z-index: 1000;
		border-radius: 50px;
	}

	.opposite-scrollbar--1 {
		animation: opposite-scrollbar-half linear forwards;

		/* !You can use calc here! */
		animation-range: 100vh calc(100% - 100vh);

		/* 
			Note: At least for now, you need to specify the timeline name here.
			If you declare it on the .opposite-scrollbar class, it will be ignored.
		*/
		animation-timeline: --opposite-scrollbar;
	}
	.opposite-scrollbar--2 {
		animation: opposite-scrollbar-full linear forwards;

		/* !You can use calc here! */
		animation-range: 100vh calc(100% - 100vh);

		/* 
			Note: At least for now, you need to specify the timeline name here.
			If you declare it on the .opposite-scrollbar class, it will be ignored.
		*/
		animation-timeline: --opposite-scrollbar;
	}
</style>
